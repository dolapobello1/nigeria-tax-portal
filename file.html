<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Nigeria Tax Filing 2026 | Unified Portal</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background:#0f172a; color:#f8fafc; font-family:'Plus Jakarta Sans', sans-serif; }
  .step { display:none; }
  .step.active { display:block; }
  input { background:#1e293b; color:white; padding:0.75rem; border-radius:0.5rem; width:100%; }
  button { transition:0.2s; }
  button:hover { opacity:0.85; }
  .step-header { font-size:1.25rem; font-weight:700; margin-bottom:1rem; }
  .review-box { background:#1e293b; padding:1rem; border-radius:1rem; }
</style>
</head>

<body class="p-8 max-w-4xl mx-auto">

<h1 class="text-4xl font-extrabold mb-6 text-center text-emerald-400">
Nigeria Tax Filing 2026
</h1>

<div class="bg-slate-900 p-8 rounded-3xl shadow-xl space-y-6">

  <!-- Save Draft Buttons -->
  <div class="flex gap-3 mb-4 justify-end">
    <button onclick="saveDraft()" class="bg-blue-500 px-4 py-2 rounded font-semibold">Save Draft</button>
    <button onclick="clearDraft()" class="bg-red-500 px-4 py-2 rounded font-semibold">Clear Draft</button>
  </div>

  <!-- STEP 1: Income -->
  <div id="step1" class="step active">
    <div class="step-header">Income</div>
    <input id="grossIncome" placeholder="Gross Income ₦">
    <input id="otherIncome" placeholder="Other Income ₦" class="mt-3">
    <div class="mt-4 flex justify-end">
      <button onclick="nextStep()" class="bg-emerald-500 px-6 py-2 rounded font-bold text-black">Next</button>
    </div>
  </div>

  <!-- STEP 2: Reliefs -->
  <div id="step2" class="step">
    <div class="step-header">Reliefs</div>
    <input id="rentPaid" placeholder="Rent Paid ₦">
    <input id="pensionNHF" placeholder="Pension + NHF ₦" class="mt-3">
    <div class="mt-4 flex justify-between">
      <button onclick="prevStep()" class="border px-4 py-2 rounded font-semibold">Back</button>
      <button onclick="nextStep()" class="bg-emerald-500 px-6 py-2 rounded font-bold text-black">Next</button>
    </div>
  </div>

  <!-- STEP 3: Credits -->
  <div id="step3" class="step">
    <div class="step-header">Credits</div>
    <input id="whtCredit" placeholder="WHT Credit ₦">
    <div class="mt-4 flex justify-between">
      <button onclick="prevStep()" class="border px-4 py-2 rounded font-semibold">Back</button>
      <button onclick="nextStep()" class="bg-emerald-500 px-6 py-2 rounded font-bold text-black">Review</button>
    </div>
  </div>

  <!-- STEP 4: Review & PDF -->
  <div id="step4" class="step">
    <div class="step-header">Review Your Filing</div>
    <div id="review" class="review-box space-y-2 text-sm"></div>
    <div class="mt-6 flex justify-between">
      <button onclick="prevStep()" class="border px-4 py-2 rounded font-semibold">Back</button>
      <button onclick="generatePDF(window.__taxResult)" class="bg-purple-500 px-6 py-3 rounded font-bold">
        Download PDF
      </button>
    </div>
  </div>

</div>

<!-- Scripts -->
<script type="module" src="./assets/filingFlow.js"></script>
<script type="module">
import { generatePDF } from './assets/pdfGenerator.js';
window.generatePDF = generatePDF; // attach globally for button
</script>

</body>
</html>
